Component({properties:{show:Boolean,swiper:Array},data:{index:0,wx_img:"http://img.hmeshop.cn/jxyh5/icon_wechat@2x.png",download_img:"http://img.hmeshop.cn/jxyh5/icon_xiazai@2x.png",hidden:!1,tabHide:!0},methods:{move(){},cancel(e){let t=this;t.setData({show:!1}),t.triggerEvent("tabShow")},change(e){let t=e.detail.current;this.setData({index:t})},save(){let e=wx.getStorageSync("save"),t=()=>{let t=this.data.swiper[this.data.index].url;wx.downloadFile({url:t,success:t=>{wx.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){wx.showToast({title:"保存成功",icon:"success",duration:2e3}),e&&wx.removeStorageSync("save")},fail:e=>{wx.setStorageSync("save","fail")}})},fail:e=>{wx.showToast({title:"下载图片失败",icon:"none"})}})};wx.getSetting({success:s=>{s.authSetting["scope.writePhotosAlbum"]?(wx.removeStorageSync("save"),t()):e?wx.openSetting({success:e=>{console.log(e)}}):t()}})}}});